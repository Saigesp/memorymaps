<!DOCTYPE html lang="es-ES" >
<html>

    <head>
        <title>La ruta del dinero - Instituto 25M</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

        <meta property="og:title" content="La ruta del dinero - Instituto 25M" />
        <meta property="og:type" content="website" />
        <meta property="og:url" content="" />
        <meta property="og:image" content="" />
        <meta property="og:description" content="" />
        <meta property="og:site_name" content="" />
        <meta property="og:locale" content="es_ES" />
        <meta property="article:publisher" content="">

        <!-- styles -->
        <link rel="stylesheet" href="assets/css/style.css">

        <!-- schema.org markup for Google+ -->
        <meta itemprop="name" content="La ruta del dinero - Instituto 25M" >
        <meta itemprop="description" content="">
        <meta itemprop="image" content="">

        <!-- Twitter Card -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site" content="">
        <meta name="twitter:title" content="La ruta del dinero - Instituto 25M">
        <meta name="twitter:description" content="">
        <meta name="twitter:creator" content="">
        <meta name="twitter:image:src" content="">

    </head>

    <style>
        #map svg {
            pointer-events: none;
            background: steelblue;
        }
        button {
            float: left;
            z-index: 999;
        }
    </style>

    <body>
        <button id="zoom">Scale 5</button>
        <div id="map" style="width: 100%; height: 1025px;position: relative;z-index: -1;"></div>
    </body>

    <!-- scripts -->
    <script src="assets/js/bundle.js"></script>
    <script type="text/javascript">

        function calculeLenghts(){
            console.log(window.innerWidth, window.innerHeight);
        }
        calculeLenghts();
        window.addEventListener("resize", calculeLenghts);

        d3.xml('assets/img/world.svg').then(data => {
            d3.select('#map').node().append(data.documentElement);

            var svg = d3.select('#world')

            var zoom = d3.zoom().on('zoom', function() {
                    canvas.attr('transform', d3.event.transform);
                })
            var canvas = svg.call(zoom)

            d3.select('#zoom').on('click', function(){
                var scale = 10
                var point = {x:956,y:320} //spain
                var point = {x:2000,y:1000}
                zoom.transform(svg.transition().duration(1500), d3.zoomIdentity.scale(scale).translate(((-point.x*scale)+((scale-1)*1000)+(window.innerWidth/2))/scale,((((-point.y+1000)*scale)-(((scale-1)*500)+1000))+window.innerHeight/2)/scale));
            })
        })
    </script>
    <!-- end scripts -->

</html>